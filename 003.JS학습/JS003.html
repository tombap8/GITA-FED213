<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 제어문 - if문, switch case문, for문, while문</title>
    <!-- JS 코딩구역 -->
    <script>
        // 함수는 호출시에만 실행되는 코드 저장소!
        /****************************************** 
            함수명: jumsu
            기능: 평가점수를 평가결과로 변환하여 출력
        ******************************************/
        function jumsu() {

            // 1. 함수호출여부
            // console.log("점수뭐야?");
            // F12 개발자모드에서 "// console"탭 선택!

            // 2. 대상선정:
            // 2-1. 점수를 가져올 대상: #jumsu 인 input요소
            var jumsu = document.getElementById("jumsu");

            // 2-2.입력된 값 읽어오기
            var score = jumsu.value;
            // value는 값을 읽어오는 속성
            // console.log("입력값", score);
            //// console.log(메시지,변수) - 콤마 또는 플러스로 연결

            // 2-3. 출력대상: #jexp
            var jexp = document.getElementById("jexp");

            // 2-4. 칭찬스티커 대상: #jshow
            var jshow = document.getElementById("jshow");

            ////////////////////////////////
            /// 2.5-1. 숫자여부 판별하기 ////
            ////////////////////////////////

            // 숫자여부 판별 JS내장함수 : isNaN(값)
            // is Not a Number? 숫자가 아니니?
            // 만약 숫자가 아니면 true

            console.log("숫자가 아니니? ",isNaN(score));

            if(isNaN(score)){

                // 1. 숫자가 아닌 경우 메시지 출력
                jexp.innerText = "숫자를 입력하세요!";

                // 2. 글자색 초기화(바뀌었을수 있으므로)
                jexp.style.color = "#000";

                // 3. 칭찬스티커 초기화(바뀌었을 수 있음)
                jshow.style.backgroundPosition = "322px 0";

                // 4. 입력창 내용지우기
                jumsu.value = ""; // 빈 문자값을 넣으면 지워짐

                // 5. 입력창에 포커스주기(버튼클릭한 경우)
                jumsu.focus();
                // focus() JS내장함수는 입력창에 커서가 감!

                // 아래쪽 코드를 실행하지 않도록 함수나가기!
                return;
                // 리턴은 함수를 나가는 키워드임!
                // return 값 -> 어떤 값을 가지고 함수를
                // 호출한 곳으로 돌아갈 수 도 있다!

            } ////////// if /////////////

            //////////////////////////////
            // 2.5-2. 숫자범위 판별하기 ///
            //////////////////////////////

            // 0~100 사이수가 아닌 경우 걸러내기!
            // else if로 위의 숫자가 아닌여부에 이어진 if문!
            // 조건: 0미만 이거나 100초과인 경우
            else if(score < 0 || score > 100){

                // 1. 숫자범위가 아닌 경우 메시지 출력
                jexp.innerText = "0이상 100이하의 숫자만 입력하세요!";

                // 2. 글자색 초기화(바뀌었을수 있으므로)
                jexp.style.color = "#000";

                // 3. 칭찬스티커 초기화(바뀌었을 수 있음)
                jshow.style.backgroundPosition = "322px 0";

                // 4. 입력창 내용지우기
                jumsu.value = ""; // 빈 문자값을 넣으면 지워짐

                // 5. 입력창에 포커스주기(버튼클릭한 경우)
                jumsu.focus();
                // focus() JS내장함수는 입력창에 커서가 감!

                // 아래쪽 코드를 실행하지 않도록 함수나가기!
                return;
                // 리턴은 함수를 나가는 키워드임!
                // return 값 -> 어떤 값을 가지고 함수를
                // 호출한 곳으로 돌아갈 수 도 있다!

            } //////////// else if ///////////////


            ////////////////////
            // 결과메시지 변수 //
            ////////////////////
            var msg;
            // console.log("할당안된 msg변수:",msg);
            // 아무값도 넣지 않으면
            // undefined (정되되지않은값)이 셋팅된다!

            // 결과에 따른 글자색 변수
            var fc;

            // 결과에 따른 칭찬스티커 위치변수
            var pos;

            ////////////////////////////////
            /// 3. 점수환산하기 /////////////
            // if + else if 셋업을 하면 구간설정을 한것과 같다!
            // 3가지 값 셋팅 : 
            //        메시지(msg), 글자색(fc), 배경위치(pos)
            if (score >= 90) {
                msg = "매우잘함";
                fc = "blue";
                pos = "0 0";
            } ///// if //////
            else if (score >= 80) {
                msg = "잘함";
                fc = "green";
                pos = "-322px 0";
            } //// else if //////
            else if (score >= 70) {
                msg = "보통";
                fc = "purple";
                pos = "-322px -322px"
            } //// else if //////
            else if (score >= 60) {
                msg = "노력요함";
                fc = "orange";
                pos = "-322px -644px";
            } //// else if //////
            else {
                msg = "재시험";
                fc = "red";
                pos = "-644px -644px";
            } //// else //////


            // console.log(
                // "msg변수:", msg, "/색상:", fc, "/위치:", pos);

            // 4. 결과출력
            jexp.innerText = "평가결과는 " + msg;
            // innerText 는 선택요소 내부에 글자를 넣거나 읽어옴

            // 5. 글자색 변경하기
            // -> fc라는 변수에 각 조건별 색상명을 할당하여 변경
            // style.color = 값
            jexp.style.color = fc;

            // 6. 칭찬스티커 나오게하기
            // -> pos라는 변수에 각 조건별 배경이미지 위치값 할당
            jshow.style.backgroundPosition = pos;

            // 7. 입력창에 포커스주기(버튼클릭한 경우)
            jumsu.focus();


        } /////////// jumsu 함수 ///////////////////////////
        ///////////////////////////////////////////////////


        /*********************************************** 
         [ if문 ]
         - 조건문을 검사하여 true이면
         중괄호안의 코드를 실행하는 제어문

         - 조건문이란 결과가 true / false 로 나오는 구문
         - 보통 비교연산자나 논리연산자가 사용된다!

         ((구문))
         __________________________
         if(조건문){
             실행코드
         }
         else if(조건문){
             실행코드
         }
         ...
         else{
             실행코드
         }
         __________________________

         ((구문해석))
         1. if문은 단독으로 따로 사용가능
         2. else if문은 if문 뒤에 또는 다른 
             else if문 뒤에 사용가능
             if와 else if로 구성된 조건문은 하나의 조건에
             해당할 경우 다른 조건문에는 들어가지 않는다!
         3. else문은 조건문에 해당되지 않을 경우 모든 경우의 수를
         기타로 묶어서 최종적으로 실행하는 코드구역이다!
         (else문은 if문 혹은 else if문이 끝나는 맨뒤에 사용하며
         안쓸 수도 있다!)

         ※ 주의사항: else if나 else문은 처음에 쓰거나 단독으로
         사용할 수 없다!

        ***********************************************/
    </script>
    <style>
        /* 칭찬스티커 */
        #jshow {
            position: absolute;
            top: -18px;
            left: 121px;
            width: 322px;
            height: 322px;
            transform: scale(.3);
            background: url(./images/ifshow.jpg) no-repeat;
            background-position: 322px 0;
            /* 처음에 안보에게 배경을 오른쪽바깥에 둠 */

            /* 트랜지션: 속시이지 */
            transition: all .4s ease-out;
        }

        /* IR(배경이미지설명숨김) */
        .ir {
            display: block;
            width: 0;
            height: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>

    <h1>JS 제어문</h1>
    <hr>
    <!-- if문 연습 -->
    <h2>if문 연습</h2>
    <h3 id="jexp">평가출력</h3>
    <label for="jumsu">점수입력:</label>
    <input type="text" id="jumsu" placeholder="점수를 입력하세요!" maxlength="3" onkeypress="if(event.keyCode===13)jumsu()">
    <!-- 
        onkeypress 키보드를 치면 발생하는 이벤트
        if조건문
        조건식: event.keyCode === 13
        -> 키보드의 키코드가 13이냐? 엔터키 눌렀냐?
        -> 엔터키의 키코드는 13번이다!
        -> true이면 jumsu() 라는 함수를 호출해라!
        
        참고) 키코드 참조: 아스키코드
        https://www.w3schools.com/charsets/ref_html_ascii.asp

     -->
    <button class="sbtn" onclick="jumsu()">평가하기</button>

    <!-- 칭찬스티커 -->
    <div id="jshow">
        <span class="ir">칭찬스티커</span>
    </div>

    <!-- 
        [ input요소 : 입력양식 요소 ]
                    (텍스트, 라디오버튼, 체크박스, 버튼 등)
        - type="text" 텍스트 입력양식
        - placeholder 속성: 안내문구출력(글자입력시 사라짐)
        - value 속성: 미리입력할 글자넣기
        (JS에서 입력된 글자를 읽어갈때 value속성을 사용함!)
        - maxlength 속성: 최대입력 글자수 지정

        [ label요소: 입력양식 설명요소 ]
        - for속성은 연결된 input요소의 아이디명을 써줌.
        (라벨 클릭시 해당input요소로 포커스가 들어감)
        - 웹접근성(평등의 원칙) 측면에서 라벨은 input요소의
        필수요소로 사용할 것을 권고하고 있다!
        왜? 입력창에 대한 설명으로 리더기가 이것을 읽어줌!

     -->

     <hr>

     <!-- switch case문 -->
     <h2>switch case문 연습</h2>
     <h3 id="info">국번안내</h3>
     <label for="local">지역명 입력:</label>
     <input type="text" id="local" placeholder="지역명에 '도'를 빼고 쓰세요!">
     <button class="sbtn">국번문의</button>

</body>

</html>